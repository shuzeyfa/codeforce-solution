import sys, osimport mathfrom collections import defaultdict, deque, Counterfrom functools import lru_cachefrom bisect import bisect_right, bisect_leftRANDOM = int.from_bytes(os.urandom(8), "big")def getInt(): return int(sys.stdin.readline().strip())def getStr(): return sys.stdin.readline().strip()def getIntSeq(): return map(int, sys.stdin.readline().strip().split())def getStrSeq(): return sys.stdin.readline().strip().split()def getIntList(): return list(map(int, sys.stdin.readline().strip().split()))def getStrList(): return list(sys.stdin.readline().strip().split())  t = 1t = getInt()              def solve():    n, m = getIntList()    l = getIntList()     d = [0]*(n+1)     for i in range(m):        d[l[i]] += 1        count = 0    for i in range(1, n+1):        if d[i] == 0:            count += 1         left, right = 1, m     def check(cur):                need = 0        free = count         free *= (cur // 2)         for i in range(1, n+1):            if d[i] > 0:                if cur - d[i] > 0:                    free += ((cur - d[i]) // 2)                else:                    need += d[i] - cur                                return free >= need                                        ans = right    while left <= right:        mid = (left + right) // 2        if check(mid):            ans = mid            right = mid - 1        else:            left = mid + 1    print(ans)                                                                                                                                                                                   for _ in range(t):    solve()