<h3><a href="https://codeforces.com/contest/2182/problem/C" target="_blank" rel="noopener noreferrer">Production of Snowmen</a></h3>

<div class="header"><div class="title">C. Production of Snowmen</div><div class="time-limit"><div class="property-title">time limit per test</div>2 seconds</div><div class="memory-limit"><div class="property-title">memory limit per test</div>512 megabytes</div><div class="input-file input-standard"><div class="property-title">input</div>standard input</div><div class="output-file output-standard"><div class="property-title">output</div>standard output</div></div><div><p>To create a truly festive atmosphere, Santa's helpers have opened a factory for producing snowmen!</p><p>Each snowman consists of three snowballs — a head, a torso, and legs. For the snowman to be stable, the ball forming the legs must be strictly larger than the ball forming the torso; in turn, the ball forming the torso must be strictly larger than the ball forming the head. Formally, if we denote the sizes of the head, torso, and legs as $$$a, b, c$$$ respectively, the snowman will be stable if and only if $$$a < b < c$$$.</p><p>At the snowman production factory, there are three conveyors, each containing $$$n$$$ snowballs. The first conveyor contains balls of sizes $$$a_1, a_2, \dots, a_n$$$; the second contains balls of sizes $$$b_1, b_2, \dots, b_n$$$; the third contains balls of sizes $$$c_1, c_2, \dots, c_n$$$. The conveyors are cyclic; in other words, after the element numbered $$$n$$$, the element numbered $$$1$$$ follows again, and we can consider that the ball numbered $$$i$$$ and the ball numbered $$$i+n$$$ (as well as the ball numbered $$$i+2n$$$, $$$i+3n$$$, and so on) are the same ball.</p><p>To produce snowmen, it is necessary to specify three parameters $$$i, j, k$$$ ($$$1 \le i, j, k \le n$$$), indicating which balls on each conveyor the production starts from. After that, the snowmen will be assembled from the balls as follows:</p><ul> <li> the first snowman will have a head of size $$$a_i$$$, a torso of size $$$b_j$$$, and legs of size $$$c_k$$$; </li><li> the second snowman will have a head of size $$$a_{i+1}$$$, a torso of size $$$b_{j+1}$$$, and legs of size $$$c_{k+1}$$$; </li><li> and so on; </li><li> the $$$n$$$-th (last) snowman will have a head of size $$$a_{i+n-1}$$$, a torso of size $$$b_{j+n-1}$$$, and legs of size $$$c_{k+n-1}$$$. </li></ul><p>The parameters $$$i, j, k$$$ must be chosen in such a way that all $$$n$$$ snowmen are stable. Your task is to count the number of suitable combinations of parameters.</p></div><div class="input-specification"><div class="section-title">Input</div><p>The first line contains one integer $$$t$$$ ($$$1 \le t \le 5000$$$) — the number of test cases.</p><p>Each test case consists of four lines:</p><ul> <li> the first line contains one integer $$$n$$$ ($$$1 \le n \le 5000$$$); </li><li> the second line contains $$$n$$$ integers $$$a_1, a_2, \dots, a_n$$$ ($$$1 \le a_i \le 3n$$$); </li><li> the third line contains $$$n$$$ integers $$$b_1, b_2, \dots, b_n$$$ ($$$1 \le b_i \le 3n$$$); </li><li> the fourth line contains $$$n$$$ integers $$$c_1, c_2, \dots, c_n$$$ ($$$1 \le c_i \le 3n$$$). </li></ul><p>Additional constraint on the input: the sum of $$$n$$$ across all test cases does not exceed $$$5000$$$.</p></div><div class="output-specification"><div class="section-title">Output</div><p>For each test case, output one integer — the number of combinations of parameters $$$i, j, k$$$ for which all $$$n$$$ snowmen will be stable.</p></div><div class="sample-tests"><div class="section-title">Example</div><div class="sample-test"><div class="input"><div class="title">Input<div title="Copy" data-clipboard-target="#id0033727951412582213" id="id0045708988108447623" class="input-output-copier">Copy</div></div><pre id="id0033727951412582213"><div class="test-example-line test-example-line-even test-example-line-0">4</div><div class="test-example-line test-example-line-odd test-example-line-1">2</div><div class="test-example-line test-example-line-odd test-example-line-1">1 2</div><div class="test-example-line test-example-line-odd test-example-line-1">3 4</div><div class="test-example-line test-example-line-odd test-example-line-1">5 4</div><div class="test-example-line test-example-line-even test-example-line-2">3</div><div class="test-example-line test-example-line-even test-example-line-2">1 1 1</div><div class="test-example-line test-example-line-even test-example-line-2">2 2 2</div><div class="test-example-line test-example-line-even test-example-line-2">3 3 3</div><div class="test-example-line test-example-line-odd test-example-line-3">4</div><div class="test-example-line test-example-line-odd test-example-line-3">1 2 1 2</div><div class="test-example-line test-example-line-odd test-example-line-3">3 3 2 2</div><div class="test-example-line test-example-line-odd test-example-line-3">5 5 5 5</div><div class="test-example-line test-example-line-even test-example-line-4">5</div><div class="test-example-line test-example-line-even test-example-line-4">1 4 2 3 5</div><div class="test-example-line test-example-line-even test-example-line-4">6 4 5 7 6</div><div class="test-example-line test-example-line-even test-example-line-4">7 5 8 10 10</div></pre></div><div class="output"><div class="title">Output<div title="Copy" data-clipboard-target="#id005079530036837249" id="id009112546585045425" class="input-output-copier">Copy</div></div><pre id="id005079530036837249"><div class="test-example-line test-example-line-odd test-example-line-1">4</div><div class="test-example-line test-example-line-even test-example-line-2">27</div><div class="test-example-line test-example-line-odd test-example-line-3">0</div><div class="test-example-line test-example-line-even test-example-line-4">10</div></pre></div></div></div><div class="note"><div class="section-title">Note</div><p>In the first example, suitable sets of parameters $$$i, j, k$$$ are as follows:</p><ul> <li> $$$i = 1, j = 1, k = 2$$$: then the snowmen will be $$$(1, 3, 4)$$$ and $$$(2, 4, 5)$$$; </li><li> $$$i = 1, j = 2, k = 1$$$: then the snowmen will be $$$(1, 4, 5)$$$ and $$$(2, 3, 4)$$$; </li><li> $$$i = 2, j = 1, k = 2$$$: then the snowmen will be $$$(2, 3, 4)$$$ and $$$(1, 4, 5)$$$; </li><li> $$$i = 2, j = 2, k = 1$$$: then the snowmen will be $$$(2, 4, 5)$$$ and $$$(1, 3, 4)$$$. </li></ul><p>In the second example, all combinations of parameters are suitable.</p><p>In the third example, for any combination of parameters, a snowman with a head size of $$$2$$$ and a torso size of $$$2$$$ will be produced, which is not stable.</p></div>