import sys, osimport mathfrom collections import defaultdict, deque, Counterfrom functools import lru_cachefrom bisect import bisect_right, bisect_leftRANDOM = int.from_bytes(os.urandom(8), "big")def getInt(): return int(sys.stdin.readline().strip())def getStr(): return sys.stdin.readline().strip()def getIntSeq(): return map(int, sys.stdin.readline().strip().split())def getStrSeq(): return sys.stdin.readline().strip().split()def getIntList(): return list(map(int, sys.stdin.readline().strip().split()))def getStrList(): return list(sys.stdin.readline().strip().split())  t = 1# t = getInt()              def solve():    n, m = getIntList()    d = defaultdict(list)     for i in range(n):        temp = getIntList()        for j in range(m):            d[temp[j]].append((i+1, j+1))     ans = 0        for i in d:        l = d[i]        row = sorted(r for r, c in l)        col = sorted(c for r, c in l)         row.sort()        col.sort()         if len(row) > 1:                         prefix = 0             for j in range(len(row)):                ans += j*row[j] - prefix                prefix += row[j]         if len(col) > 1:             prefix = 0             for j in range(len(col)):                ans += j*col[j] - prefix                prefix += col[j]                              print(ans)                                                                                                                                      for _ in range(t):    solve()