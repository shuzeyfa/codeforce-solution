import sys, osimport mathfrom collections import defaultdict, deque, Counterfrom functools import lru_cachefrom bisect import bisect_right, bisect_leftRANDOM = int.from_bytes(os.urandom(8), "big")def getInt(): return int(sys.stdin.readline().strip())def getStr(): return sys.stdin.readline().strip()def getIntSeq(): return map(int, sys.stdin.readline().strip().split())def getStrSeq(): return sys.stdin.readline().strip().split()def getIntList(): return list(map(int, sys.stdin.readline().strip().split()))def getStrList(): return list(sys.stdin.readline().strip().split())  t = 1t = getInt()              def solve():    n = getInt()    l = getIntList()    l.sort()     left, right = 0, n - 1     x = 0    ans = 0     while left < right:                if x + l[left] >= l[right]:            ans += (l[right] - x + 1)            l[left] -= (l[right] - x)            x = 0            right -= 1            if l[left] == 0:                left += 1        else:            x += l[left]            ans += l[left]            left += 1        if left == right:        rem = l[left] - x        need = rem // 2        if rem%2 == 1:            need += 1        ans += min(l[left], need + 1)     print(ans)                                                                                                                                                                                   for _ in range(t):    solve()